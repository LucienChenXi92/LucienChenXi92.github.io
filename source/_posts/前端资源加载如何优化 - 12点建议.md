---
title: "前端资源加载如何优化 - 12点建议"
catalog: true
date: 2020-03-27 08:51:24
subtitle: "Pattern"
header-img: "/img/default.png"
tags:
- 前端
catagories:
---

最近一直在忙着做产品页面性能优化，调查了一些页面加载过程，大部分页面的瓶颈都在资源加载这里，我整理了以下12条资源加载的优化方案：

#### 静态资源
1. 开启Gzip压缩资源。
2. 服务端对静态资源添加缓存。
3. 对于React， Vue等框架项目，尽量拆解编译后的CSS和JS文件，利用懒加载，减少所需加载的资源内容。
4. 项目中不需要的依赖要及时清除掉，只在开发时需要的依赖资源请放在devDependencies下面。
5. 调整资源加载顺序，大的资源尽量优先加载。

#### 动态资源
1. 后端Spring-boot或Express项目同样可以开启Gzip，压缩response内容空间。
2. 简化API response内容，不需要的字段尽量不要返回，可以考虑使用GraphQL。
3. 合理使用Ajax，先将页面展示出来，再展示数据，避免空白等待时间过长。
4. 避免一个请求去加载过多内容，可以合理拆分请求。
5. 预处理数据，尽量避免加载过多原始数据到前端处理，造成网络传输的浪费。
6. 数据量巨大时，为了获得最好的首屏加载效果，尽量使用分批加载。可考虑加分页，分时间范围检索等功能。
7. 由于浏览器对同一域名下的TCP连接数量有限制，如果请求数量过多，可以考虑多申请几个域名轮询发送请求。
