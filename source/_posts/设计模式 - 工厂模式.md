---
title: "设计模式 - 工厂设计模式"
catalog: true
date: 2020-02-17 22:11:24
subtitle: "Factory"
header-img: "/img/default.png"
tags:
- 设计模式
catagories:
---

### 什么是工厂模式？
工厂模式是Java 中最常见的设计模式之一，属于创建型模式。它提供了一种创建对象的最佳方式。
在工厂模式中，我们常见对象不会对客户端暴露创建逻辑，并且是通过同一个接口来指向新创建的对象。

### 工厂设计模式的优点
+ 工厂设计模式提供了接口而不是实现的代码方法。
+ 工厂模式从客户端代码中删除实际实现类的实例化。工厂模式使我们的代码更健壮，耦合更少，易于扩展。例如，我们可以轻松更改PC类实现，因为客户端程序不知道这一点。
+ 工厂模式通过继承提供实现和客户端类之间的抽象。
![/img/factory.png](/img/factory.png)

```java
import java.util.Scanner;

public class Test {
    public static void main(String[] args) {
        // 客户端（主方法）不再需要关注具体有多少子类，及子类的具体实现，只面向Factory提自己的需求。
        Scanner sc = new Scanner(System.in);

        System.out.println("你想吃什么？Bread or Milk?");
        while (sc.hasNext()) {
            IFood food1 = Factory.getInstance(sc.next());
            if (food1 != null) {
                food1.eat();
            }
        }

    }
}

class Factory {
    public static IFood getInstance(String className) {
        if (Milk.class.getName().equals(className)) {
            return new Milk();
        } else if (Bread.class.getName().equals(className)) {
            return new Bread();
        } else {
            return null;
        }
    }
}

interface IFood {
    void eat();
}

class Bread implements IFood {
    @Override
    public void eat() {
        System.out.println("吃面包");
    }
}

class Milk implements IFood {
    @Override
    public void eat() {
        System.out.println("喝牛奶");
    }
}
```