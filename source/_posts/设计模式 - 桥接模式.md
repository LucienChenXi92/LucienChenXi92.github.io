---
title: "设计模式 - 桥接模式模式"
catalog: true
date: 2020-08-31 15:20:24
subtitle: "Bridge"
header-img: "/img/default.png"
tags:
- 设计模式
catagories:
---

### 什么是桥接模式？
桥接（Bridge）是用于把抽象化与实现化解耦，使得二者可以独立变化。这种类型的设计模式属于结构型模式，它通过提供抽象化和实现化之间的桥接结构，来实现二者的解耦。

**这种模式涉及到一个作为桥接的接口**，使得实体类的功能独立于接口实现类。这两种类型的类可被结构化改变而互不影响。

### 可以解决什么样的问题？
定义说的太抽象了，当我们面对一个由多个维度元素构成的实体时，如果直接通过`继承`来声明类往往会导致类的数量过多。同过桥接模式可以通过聚合的方式来自由组合对象，灵活，并更容易扩展。

### 优缺点
优点：
1.抽象和实现的分离。 
2.优秀的扩展能力。 
3.实现细节对客户透明。

缺点：
桥接模式的引入会增加系统的理解与设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计与编程。

### Java代码实现
比如我们想要实现一个菜谱的场景，一道菜的名字一般都包含两个元素，一个是材料，一个是烹饪的方式，例如："红烧肉"，“清蒸鲈鱼”...我们用桥接模式来实现一下。

![bridge](/img/bridge.png)
```java
abstract class Food implements CookMethod {
    protected CookMethod cookMethod;
    protected String name;
    protected Food(String name, CookMethod cookMethod) {
        this.name = name;
        this.cookMethod = cookMethod;
    }
    public abstract void cook();
}

interface CookMethod {
    void cook();
}

class Fried implements CookMethod {
    @Override
    public void cook() {
        System.out.println("油炸一下");
    }
}

class Braised implements CookMethod {
    @Override
    public void cook() {
        System.out.println("红烧一下");
    }
}

class Steamed implements CookMethod {
    @Override
    public void cook() {
        System.out.println("清蒸一下");
    }
}

class Meat extends Food {

    public Meat(String name, CookMethod cookMethod) {
        super(name, cookMethod);
    }

    @Override
    public void cook() {
        System.out.print(name + ": 肉");
        cookMethod.cook();
    }
}

class Fish extends Food {

    public Fish(String name, CookMethod cookMethod) {
        super(name, cookMethod);
    }

    @Override
    public void cook() {
        System.out.print(name + ": 鱼");
        cookMethod.cook();
    }
}

public class Main {
    public static void main(String[] args) {

        Food braisedMeat = new Meat("红烧肉", new Braised());
        braisedMeat.cook();

        Food steamedFish = new Fish("清蒸鲈鱼", new Steamed());
        steamedFish.cook();

        Food FriedMeat = new Meat("小酥肉", new Fried());
        FriedMeat.cook();

    }
}
```

输出结果
```shell
红烧肉: 肉红烧一下
清蒸鲈鱼: 鱼清蒸一下
小酥肉: 肉油炸一下
```