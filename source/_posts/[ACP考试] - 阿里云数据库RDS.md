---
title: "[ACP考试] - 阿里云数据库RDS"
catalog: true
date: 2020-09-14 22:20:24
subtitle: ""
header-img: "/img/default.png"
tags:
- 阿里云
catagories:
---

#### 云数据库RDS的概念

##### 传统搭建数据库的过程

购买硬件 -> 安装操作系统 -> 安装数据库软件 -> 配置数据库

配置包括：
+ 安全性配置
+ 性能配置
+ 高可用配置
+ 备份容灾配置
+ ...

##### 阿里云RDS

阿里云关系型数据库(Relational Database Service，简称RDS)是一种稳定可靠的、可弹性伸缩的在线数据库服务。RDS支持MySQL、SQL Server、PostgreSQL、PPAS和MariaDB TX引擎，并且提供了容灾、备份、恢复、监控、迁移等方面的全套解决方案，彻底解决数据库运维的烦恼。

##### 云数据库对比自建数据库

|对比项|云数据库RDS|自己搭建数据库服务|
|--|--|--|
|服务可用性|高可用架构提供高可用性|需自行保障，自行搭建主备复制，自建RAID等。|
|数据可靠性|自动主备复制、数据备份、日志备份等。|需自行保障，自行搭建主备复制，自建RAID等。|
|系统安全性|防止DDos攻击，流量清洗；及时修复各种数据库安全漏洞|自行部署，价格昂贵|
|数据库备份|自动备份|自行实现，但需要寻找备份存放空间|
|软硬件投入|无需软硬件投入，按需付费|数据库服务器成本相对较高，对于SQL Server还需支付许可证费用|
|系统托管|无托管费用|每台2U服务器每年超过5000元|
|维护成本|无需运维|招聘专业的DBA来维护|
|部署扩容|即时开通，快速部署，弹性扩容|需硬件采购、机房托管、机器部署等工作，周期较长|
|资源利用率|按实际结算，100%利用率|由于业务有高峰和低谷，容易造成资源利用率|

##### 云数据库RDS相关概念

+ 实例：实力是虚拟化的数据库服务器。可以在一个实例中创建和管理多个数据库。
+ 地域：一般情况下，RDS应该和ECS位于同一地域，以提高访问性能(内网带宽)。
+ 可用区：指在某个地域内拥有独立和网络的物理区域。同一地域的不同可用区之间没有实质性区别。
+ 数据库引擎：RDS支持多种数据库引擎，如MySQL，SQL Server、PostgreSQL、PPAS和MariaDB TX引擎等等。
+ 网络类型：可以选择将实例创建在经典网络或专有网络VPC中。
+ 产品系列：分为基础版、高可用版、集群版和金融版。
+ 规格族：分为通用型，独享型，独占物理机型。
+ 存储类型：分为SSD本地盘、SSD云盘和ESSD云盘。

##### 阿里云RDS实例版本

+ 基础版：单机，适合个人学习和微型网站，企业的开发测试环境，不适用于产品环境。
+ 高可用版：主备双机，机房容灾。适合大中企业的生产数据库，互联网，物联网，零售，游戏等行业。
+ 集群版：主备双实例，可以实现同步或异步复制数据。大中型企业的生产数据库，ERP系统等。
+ 三节点企业版(原金融版)：一主两备三节点。对数据安全性要求非常高的金融、证券、保险行业的核心数据库。

##### RDS的规格族

+ 通用型：独享被分配的内存，与同一物理机上其他实例共享CPU和存储资源。
+ 独享型：具有完全独享的CPU和内存，性能长期稳定，不会因为物理机上其他实例影响性能。

##### RDS的存储类型

+ 本地SSD盘(推荐)
+ SSD云盘
+ ESSD云盘

##### RDS的灾备实例

+ RDS通过数据传输服务(DTS)实现主实例和异地灾备实例之间的实时同步。主实例和灾备实例均搭建主备高可用架构，当主实例所在地域发生自然灾害等情况，主节点和备节点均无法连接是，可将异地灾备实例切换成主实例，在应用端修改数据库链接地址后，即可快速回复应用的业务访问。
+ 灾备实例可通过DTS管理控制台实现同步对象变更、同步速度设置、延迟报警等同步链路原生功能。

##### 只读实例

在大量读请求的应用场景下，单个实例无法承受读取压力。为了实现读取能力的弹性扩展，分担数据库压力，可以创建一个或多个只读实例，利用只读实例满足大量的数据库读取需求，增加应用的吞吐量。

##### RDS优势 - 灵活计费

+ 按需变配
+ 即开即用
+ 透明兼容
+ 管理便捷

##### RDS优势 - 高性能

+ 参数优化
+ SQL优化建议
+ 高端设备投入
+ 高速访问

##### RDS优势 - 灾备设计

+ RDS默认提供备份功能，支持自动备份和手动备份。
+ RDS默认支持按备份集和指定时间点进行数据备份。
+ 除了默认的备份恢复功能，RDS for MySQL还提供了跨地域备份恢复功能。

##### RDS优势 - 高可用性

+ 防DDos攻击
+ 检测SQL注入威胁
+ 访问控制策略
+ 系统安全
+ 数据加密
+ 专业安全团队

#### 阿里云RDS的使用

##### RDS创建流程

创建实例 -> 设置白名单 -> 申请外网地址 -> 创建数据库 -> 创建账号 -> 连接并使用数据库

##### 数据多样化存储

RDS可以搭配云数据库Redis、和Memcache和对象内存OSS等产品使用，实现多样化存储扩展。

云数据库缓存有两个优势：响应速度块，QPS更高。

##### 开放搜索(OpenSearch)

开放搜索服务(OpenSearch)是一款结构物数据搜索托管服务，为移动应用开发者和网站站长提供简单、高效、低成本和可扩展的搜索解决方案。通过OpenSearch自带功能，可将RDS中的数据自动同步至OpenSearch实现各类复杂搜索。

#### 数据管理DMS和数据传输DTS

##### 什么是数据管理DMS

数据管理(Data Management Service，简称DMS)是一种集数据管理、结构管理、用户授权、安全审计、数据趋势、数据追踪、BI图表、性能与优化和服务器管理于一体的数据管理服务。

##### 数据管理DMS基础架构

+ 基础层：DMS业务层提供数据库实时点击和SQL访问，业务层为无状态节点，确保为DMS整体服务能力的提升。宕机无状态切换，确保7 * 24小时服务。
+ 调度层：DMS调度层为提供调度，其后台主要通过线程池进行调度，分为实时调度和后台定时调度两类。实时调度提供前端点击后立即调度并一次性任务处理，数据管理后台自动完成所有工作。后台定时任务任务未用于定时获取用户指定的数据，提供查阅和分析。
+ 连接层：连接层为数据管理访问数据的核心组件，兼容各种存储引擎的请求。前端操作上会话隔离及保持，接近客户端的体验。实时会话数量控制，防止对单个实例建立大量的请求连接。按功能分级回收连接策略，尽可能确保不同功能体验的基础上减少对数据库连接数。

##### 数据管理DMS产品优势

+ 轻松拥有数据分析能力
+ 极大提升研发效率
+ 实时优化数据库性能
+ 全面的访问安全保护
+ 丰富的数据源支持

#### 数据传输服务DTS

##### 什么是数据传输服务DTS

数据传输服务DTS(Data Transmission Service)支持RDBMS、NoSQL、OLAP等数据源间的数据交互，及数据迁移、订阅、同步于一体，构建安全、可拓展、高可用的数据架构。

##### 数据传输服务DTS的系统架构

TBD

##### 数据传输服务DTS的优势

+ 支持丰富多样的数据同步、迁移的业务场景。
+ 高性能
+ 安全可靠
+ 简单易用
